import{G as u,y as d,a5 as y,R as p,a6 as h,a7 as j,av as a,aw as N,ax as T,au as k,B as F,P as D,O as P,N as C,M as O}from"./iframe-DJMPpgxk.js";function g(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new _(t.type);return`${t.name}(${A(t.inputs,{includeName:e})})`}function A(t,{includeName:e=!1}={}){return t?t.map(n=>L(n,{includeName:e})).join(e?", ":","):""}function L(t,{includeName:e}){return t.type.startsWith("tuple")?`(${A(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class ht extends u{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class gt extends u{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class mt extends u{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${A(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class bt extends u{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class R extends u{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class H extends u{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${d(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class W extends u{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class At extends u{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class $t extends u{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class xt extends u{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class w extends u{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Et extends u{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class wt extends u{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class q extends u{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${g(e.abiItem)}\`, and`,`\`${n.type}\` in \`${g(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class vt extends u{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class G extends u{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Bt extends u{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class V extends u{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class _ extends u{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}const Ft=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,U=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Y(t,e){if(t.length!==e.length)throw new W({expectedLength:t.length,givenLength:e.length});const n=Z({params:t,values:e}),r=x(n);return r.length===0?"0x":r}function Z({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push($({param:t[r],value:e[r]}));return n}function $({param:t,value:e}){const n=rt(t.type);if(n){const[r,o]=n;return K(e,{length:r,param:{...t,type:o}})}if(t.type==="tuple")return nt(e,{param:t});if(t.type==="address")return J(e);if(t.type==="bool")return X(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,o="256"]=U.exec(t.type)??[];return tt(e,{signed:r,size:Number(o)})}if(t.type.startsWith("bytes"))return Q(e,{param:t});if(t.type==="string")return et(e);throw new G(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function x(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:c,encoded:s}=t[i];c?e+=32:e+=d(s)}const n=[],r=[];let o=0;for(let i=0;i<t.length;i++){const{dynamic:c,encoded:s}=t[i];c?(n.push(y(e+o,{size:32})),r.push(s),o+=d(s)):n.push(s)}return p([...n,...r])}function J(t){if(!h(t))throw new j({address:t});return{dynamic:!1,encoded:a(t.toLowerCase())}}function K(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new V(t);if(!r&&t.length!==e)throw new R({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let o=!1;const i=[];for(let c=0;c<t.length;c++){const s=$({param:n,value:t[c]});s.dynamic&&(o=!0),i.push(s)}if(r||o){const c=x(i);if(r){const s=y(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?p([s,c]):s}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:p(i.map(({encoded:c})=>c))}}function Q(t,{param:e}){const[,n]=e.type.split("bytes"),r=d(t);if(!n){let o=t;return r%32!==0&&(o=a(o,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:p([a(y(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new H({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:a(t,{dir:"right"})}}function X(t){if(typeof t!="boolean")throw new u(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:a(N(t))}}function tt(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,o=e?-r-1n:0n;if(t>r||t<o)throw new T({max:r.toString(),min:o.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:y(t,{size:32,signed:e})}}function et(t){const e=k(t),n=Math.ceil(d(e)/32),r=[];for(let o=0;o<n;o++)r.push(a(F(e,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:p([a(y(d(e),{size:32})),...r])}}function nt(t,{param:e}){let n=!1;const r=[];for(let o=0;o<e.components.length;o++){const i=e.components[o],c=Array.isArray(t)?o:i.name,s=$({param:i,value:t[c]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?x(r):p(r.map(({encoded:o})=>o))}}function rt(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const ot=t=>D(P(t));function st(t){return ot(t)}function it(t,e){return t.exec(e)?.groups}const St=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zt=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,It=/^\(.+?\).*?$/,v=/^tuple(?<array>(\[(\d*)\])*)$/;function m(t){let e=t.type;if(v.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let o=0;o<n;o++){const i=t.components[o];e+=m(i),o<n-1&&(e+=", ")}const r=it(v,t.type);return e+=`)${r?.array??""}`,m({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function l(t){let e="";const n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=m(o),r!==n-1&&(e+=", ")}return e}function ct(t){return t.type==="function"?`function ${t.name}(${l(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${l(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${l(t.inputs)})`:t.type==="error"?`error ${t.name}(${l(t.inputs)})`:t.type==="constructor"?`constructor(${l(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function ut(t){let e=!0,n="",r=0,o="",i=!1;for(let c=0;c<t.length;c++){const s=t[c];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function",""].includes(o))o="";else if(o+=s,s===")"){i=!0;break}continue}if(s===" "){t[c-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}o+=s,n+=s}}if(!i)throw new u("Unable to normalize signature.");return o}const at=t=>{const e=typeof t=="string"?t:ct(t);return ut(e)};function S(t){return st(at(t))}const dt=S,z=t=>F(S(t),0,4);function pt(t){const{abi:e,args:n=[],name:r}=t,o=C(r,{strict:!1}),i=e.filter(s=>o?s.type==="function"?z(s)===r:s.type==="event"?dt(s)===r:!1:"name"in s&&s.name===r);if(i.length===0)return;if(i.length===1)return i[0];let c;for(const s of i){if(!("inputs"in s))continue;if(!n||n.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==n.length)continue;if(n.every((f,M)=>{const E="inputs"in s&&s.inputs[M];return E?b(f,E):!1})){if(c&&"inputs"in c&&c.inputs){const f=I(s.inputs,c.inputs,n);if(f)throw new q({abiItem:s,type:f[0]},{abiItem:c,type:f[1]})}c=s}}return c||i[0]}function b(t,e){const n=typeof t,r=e.type;switch(r){case"address":return h(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>b(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(o=>b(o,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function I(t,e,n){for(const r in t){const o=t[r],i=e[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return I(o.components,i.components,n[r]);const c=[o.type,i.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?h(n[r],{strict:!1}):c.includes("address")&&c.includes("bytes")?h(n[r],{strict:!1}):!1)return c}}const B="/docs/contract/encodeFunctionData";function ft(t){const{abi:e,args:n,functionName:r}=t;let o=e[0];if(r){const i=pt({abi:e,args:n,name:r});if(!i)throw new w(r,{docsPath:B});o=i}if(o.type!=="function")throw new w(void 0,{docsPath:B});return{abi:[o],functionName:z(g(o))}}function Mt(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:ft(t),o=n[0],i=r,c="inputs"in o&&o.inputs?Y(o.inputs,e??[]):void 0;return O([i,c??"0x"])}export{bt as A,vt as B,Bt as I,mt as a,St as b,It as c,pt as d,it as e,w as f,rt as g,Et as h,zt as i,g as j,xt as k,wt as l,$t as m,At as n,Y as o,V as p,ht as q,gt as r,Mt as s,z as t,U as u,Ft as v};
